

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Lesson 24: Comprehensions &mdash; Programming Bootcamp  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/togglebutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script src="../_static/togglebutton.js"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "document", "processHtmlClass": "math|output_area"}}</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Lesson 25: Hacker stats I" href="l25_hackerstats_1.html" />
    <link rel="prev" title="Lesson 23: Random number generation" href="l23_random_number_generation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #F1F2D8" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Lessons</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="l00_configuring_your_computer.html">Lesson 0: Configuring your computer</a></li>
<li class="toctree-l1"><a class="reference internal" href="l01_welcome.html">Lesson 1: Welcome and Introduction to JupyterLab</a></li>
<li class="toctree-l1"><a class="reference internal" href="l02_basic_command_line_skills.html">Lesson 2: Basic command line skills</a></li>
<li class="toctree-l1"><a class="reference internal" href="l03_variables_operators_types.html">Lesson 3: Variables, operators, and types</a></li>
<li class="toctree-l1"><a class="reference internal" href="l04_more_operators_and_conditionals.html">Lesson 4: More operators and conditionals</a></li>
<li class="toctree-l1"><a class="reference internal" href="l05_lists_and_tuples.html">Lesson 5: Lists and tuples</a></li>
<li class="toctree-l1"><a class="reference internal" href="l06_iteration.html">Lesson 6: Iteration</a></li>
<li class="toctree-l1"><a class="reference internal" href="l07_intro_to_functions.html">Lesson 7: Introduction to functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="l08_string_methods.html">Lesson 8: String methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="l09_dictionaries.html">Lesson 9: Dictionaries</a></li>
<li class="toctree-l1"><a class="reference internal" href="l10_packages_and_modules.html">Lesson 10: Packages and modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="l11_file_io.html">Lesson 11: File I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="l12_version_control_with_git.html">Lesson 12: Version control with Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="l13_exceptions_and_error_handling.html">Lesson 13: Errors and Exception handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="l16_style.html">Lesson 16: Style</a></li>
<li class="toctree-l1"><a class="reference internal" href="l17_intro_to_pandas.html">Lesson 17: Introduction to Pandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="l18_split_apply_combine.html">Lesson 18: Tidy data and split-apply-combine</a></li>
<li class="toctree-l1"><a class="reference internal" href="l19_plotting.html">Lesson 19: Making plots</a></li>
<li class="toctree-l1"><a class="reference internal" href="l20_high_level_plotting.html">Lesson 20: High level plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="l21_intro_to_numpy_and_scipy.html">Lesson 21: Introduction to Numpy and Scipy</a></li>
<li class="toctree-l1"><a class="reference internal" href="l22_plotting_time_series_generated_data.html">Lesson 22: Plotting time series and generated data</a></li>
<li class="toctree-l1"><a class="reference internal" href="l23_random_number_generation.html">Lesson 23: Random number generation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Lesson 24: Comprehensions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#List-comprehensions">List comprehensions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Another-example-list-comprehension">Another example list comprehension</a></li>
<li class="toctree-l3"><a class="reference internal" href="#What-if-you-want-an-else-statement-in-a-list-comprehension?">What if you want an else statement in a list comprehension?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Dictionary-comprehensions">Dictionary comprehensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Paul-Romer-and-Jupyter-and-open-source-software">Paul Romer and Jupyter and open source software</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Computing-environment">Computing environment</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="l25_hackerstats_1.html">Lesson 25: Hacker stats I</a></li>
<li class="toctree-l1"><a class="reference internal" href="l26_hackerstats_2.html">Lesson 26: Hacker stats II</a></li>
<li class="toctree-l1"><a class="reference internal" href="l27_holoviews.html">Lesson 27: High level plotting with HoloViews</a></li>
<li class="toctree-l1"><a class="reference internal" href="l28_overplotting.html">Lesson 28: Dealing with overplotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="l38_intro_to_image_processing.html">Lesson 38: Introduction to image processing with scikit-image</a></li>
<li class="toctree-l1"><a class="reference internal" href="l39_segmentation.html">Lesson 39: Basic image quantification</a></li>
<li class="toctree-l1"><a class="reference internal" href="l32_other_packages_and_languages.html">Lesson 32: Survey of other packages and languages</a></li>
<li class="toctree-l1"><a class="reference internal" href="l33_bootcamp_recap.html">Lesson 33: Bootcamp recap</a></li>
</ul>
<p class="caption"><span class="caption-text">Auxiliary lessons</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="l30_javascript_for_bokeh.html">Lesson 30: JavaScript for stand-alone Bokeh apps</a></li>
<li class="toctree-l1"><a class="reference internal" href="l31_intro_to_scripting.html">Lesson 31: Introduction to scripting</a></li>
<li class="toctree-l1"><a class="reference internal" href="l34_more_command_line.html">Lesson 34: More about the command line</a></li>
<li class="toctree-l1"><a class="reference internal" href="l35_regular_expressions.html">Lesson 35: Regular expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="l36_intro_to_oop.html">Lesson 36: Introduction to object-oriented programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="l37_algorithmic_complexity.html">Lesson 37: Algorithmic complexity</a></li>
<li class="toctree-l1"><a class="reference internal" href="l40_serial.html">Lesson 40: Control of external devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="l41_serial_apps.html">Lesson 41. Apps for controlling external devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="l42_control_panels.html">Lesson 42: Control panels</a></li>
<li class="toctree-l1"><a class="reference internal" href="l14_testing_and_tdd.html">Lesson 14: Testing and test-driven development</a></li>
<li class="toctree-l1"><a class="reference internal" href="l15_examples_of_tdd.html">Lesson 15: Examples of TDD</a></li>
<li class="toctree-l1"><a class="reference internal" href="l29_dashboards.html">Lesson 29: Dashboards</a></li>
</ul>
<p class="caption"><span class="caption-text">Exercises</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../exercises/exercise_1/index.html">Exercise 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercises/exercise_2/index.html">Exercise 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercises/exercise_3/index.html">Exercise 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercises/exercise_4/index.html">Exercise 4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercises/exercise_5/index.html">Exercise 5</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercises/exercise_6/index.html">Exercise 6</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercises/exercise_7/index.html">Exercise 7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercises/exercise_8/index.html">Exercise 8</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercises/exercise_9/index.html">Exercise 9</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercises/exercise_10/index.html">Exercise 10</a></li>
</ul>
<p class="caption"><span class="caption-text">Exercise solutions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../exercise_solutions/exercise_1/index.html">Exercise 1 solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercise_solutions/exercise_2/index.html">Exercise 2 solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercise_solutions/exercise_3/index.html">Exercise 3 solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercise_solutions/exercise_4/index.html">Exercise 4 solutions</a></li>
</ul>
<p class="caption"><span class="caption-text">Schedule</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../schedule.html">Schedule overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../schedule.html#daily-schedule">Daily schedule</a></li>
</ul>
<p class="caption"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../resources.html">Scientific Python distribution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources.html#online-instruction">Online instruction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources.html#books">Books</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources.html#griffin-chure-s-templates-for-reproducible-publishing">Griffin Chure’s templates for reproducible publishing</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Programming Bootcamp</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Lesson 24: Comprehensions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/lessons/l24_comprehensions.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="Lesson-24:-Comprehensions">
<h1>Lesson 24: Comprehensions<a class="headerlink" href="#Lesson-24:-Comprehensions" title="Permalink to this headline">¶</a></h1>
<hr><div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">sympy</span>
</pre></div>
</div>
</div>
<hr><p>We have learned how to build lists, tuples, arrays, etc. by constructing them directly. E.g., <code class="docutils literal notranslate"><span class="pre">np.arange(10)</span></code> gives us a Numpy array of all integers between 0 and 9 inclusive, and <code class="docutils literal notranslate"><span class="pre">list(range(10))</span></code>gives them to us as a list. But what if we want to build a list or array by iterating, but we need something a bit more complicated. For example, let’s say we want to get a list of all prime numbers less than 1000. This could be a bit cumbersome, even with <code class="docutils literal notranslate"><span class="pre">sympy</span></code>’s lovely <code class="docutils literal notranslate"><span class="pre">isprime()</span></code>
function.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Largest number to consider</span>
<span class="n">n_max</span> <span class="o">=</span> <span class="mi">1000</span>

<span class="c1"># Initialize list of primes</span>
<span class="n">primes</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># Loop through odd integers and add primes</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_max</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">sympy</span><span class="o">.</span><span class="n">isprime</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
        <span class="n">primes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="c1"># Convert list to Numpy array</span>
<span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">primes</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
array([  2,   3,   5,   7,  11,  13,  17,  19,  23,  29,  31,  37,  41,
        43,  47,  53,  59,  61,  67,  71,  73,  79,  83,  89,  97, 101,
       103, 107, 109, 113, 127, 131, 137, 139, 149, 151, 157, 163, 167,
       173, 179, 181, 191, 193, 197, 199, 211, 223, 227, 229, 233, 239,
       241, 251, 257, 263, 269, 271, 277, 281, 283, 293, 307, 311, 313,
       317, 331, 337, 347, 349, 353, 359, 367, 373, 379, 383, 389, 397,
       401, 409, 419, 421, 431, 433, 439, 443, 449, 457, 461, 463, 467,
       479, 487, 491, 499, 503, 509, 521, 523, 541, 547, 557, 563, 569,
       571, 577, 587, 593, 599, 601, 607, 613, 617, 619, 631, 641, 643,
       647, 653, 659, 661, 673, 677, 683, 691, 701, 709, 719, 727, 733,
       739, 743, 751, 757, 761, 769, 773, 787, 797, 809, 811, 821, 823,
       827, 829, 839, 853, 857, 859, 863, 877, 881, 883, 887, 907, 911,
       919, 929, 937, 941, 947, 953, 967, 971, 977, 983, 991, 997])
</pre></div></div>
</div>
<p>Because we do not know how many entries there are going to be, we have to keep appending to a list. Under the hood, this means that the Python interpreter has to keep allocating memory as it creates and grows lists. So, in addition to being syntactically clunky, the above way of creating a list is inefficient. It would be nice to have a more convenient way of doing this.</p>
<p>Enter <strong>list comprehensions</strong>.</p>
<div class="section" id="List-comprehensions">
<h2>List comprehensions<a class="headerlink" href="#List-comprehensions" title="Permalink to this headline">¶</a></h2>
<p>As is often the case, this is best seen by example. We will create the same Numpy array of primes using a list comprehension.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">primes</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_max</span><span class="p">)</span> <span class="k">if</span> <span class="n">sympy</span><span class="o">.</span><span class="n">isprime</span><span class="p">(</span><span class="n">x</span><span class="p">)]</span>

<span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">primes</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
array([  2,   3,   5,   7,  11,  13,  17,  19,  23,  29,  31,  37,  41,
        43,  47,  53,  59,  61,  67,  71,  73,  79,  83,  89,  97, 101,
       103, 107, 109, 113, 127, 131, 137, 139, 149, 151, 157, 163, 167,
       173, 179, 181, 191, 193, 197, 199, 211, 223, 227, 229, 233, 239,
       241, 251, 257, 263, 269, 271, 277, 281, 283, 293, 307, 311, 313,
       317, 331, 337, 347, 349, 353, 359, 367, 373, 379, 383, 389, 397,
       401, 409, 419, 421, 431, 433, 439, 443, 449, 457, 461, 463, 467,
       479, 487, 491, 499, 503, 509, 521, 523, 541, 547, 557, 563, 569,
       571, 577, 587, 593, 599, 601, 607, 613, 617, 619, 631, 641, 643,
       647, 653, 659, 661, 673, 677, 683, 691, 701, 709, 719, 727, 733,
       739, 743, 751, 757, 761, 769, 773, 787, 797, 809, 811, 821, 823,
       827, 829, 839, 853, 857, 859, 863, 877, 881, 883, 887, 907, 911,
       919, 929, 937, 941, 947, 953, 967, 971, 977, 983, 991, 997])
</pre></div></div>
</div>
<p>In one line, we have made our list of primes! The list comprehension is enclosed in brackets. The first part, <code class="docutils literal notranslate"><span class="pre">x</span></code>, is an expression that will be inserted into the list. Next comes a <code class="docutils literal notranslate"><span class="pre">for</span></code> statement to produce the iterator. Finally, there is a conditional; if the conditional evaluates True, then the expression expression is included in the list.</p>
<p>If a condition is absent, all entries are put in the list. For example, if we didn’t want to just do <code class="docutils literal notranslate"><span class="pre">np.arange(100)</span></code> to get integers, we could use a list comprehension without a conditional.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Give same result as np.arange(100)</span>
<span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16,
       17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33,
       34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50,
       51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67,
       68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84,
       85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99])
</pre></div></div>
</div>
<div class="section" id="Another-example-list-comprehension">
<h3>Another example list comprehension<a class="headerlink" href="#Another-example-list-comprehension" title="Permalink to this headline">¶</a></h3>
<p>Let’s say we wanted to build a list containing the information about the 2018 Nobel laureates. We have, in three separate arrays, their names, nationalities, and category for the prize.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">names</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s2">&quot;Frances Arnold&quot;</span><span class="p">,</span>
    <span class="s2">&quot;George Smith&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Gregory Winter&quot;</span><span class="p">,</span>
    <span class="s2">&quot;postponed&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Denis Mukwege&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Nadia Murad&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Arthur Ashkin&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Gérard Mourou&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Donna Strickland&quot;</span><span class="p">,</span>
    <span class="s2">&quot;James Allison&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Tasuku Honjo&quot;</span><span class="p">,</span>
    <span class="s2">&quot;William Nordhaus&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Paul Romer&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">nationalities</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s2">&quot;USA&quot;</span><span class="p">,</span>
    <span class="s2">&quot;USA&quot;</span><span class="p">,</span>
    <span class="s2">&quot;UK&quot;</span><span class="p">,</span>
    <span class="s2">&quot;---&quot;</span><span class="p">,</span>
    <span class="s2">&quot;DRC&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Iraq&quot;</span><span class="p">,</span>
    <span class="s2">&quot;USA&quot;</span><span class="p">,</span>
    <span class="s2">&quot;France&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Canada&quot;</span><span class="p">,</span>
    <span class="s2">&quot;USA&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Japan&quot;</span><span class="p">,</span>
    <span class="s2">&quot;USA&quot;</span><span class="p">,</span>
    <span class="s2">&quot;USA&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">categories</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s2">&quot;Chemistry&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Chemistry&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Chemistry&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Literature&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Peace&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Peace&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Physics&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Physics&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Physics&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Physiology or Medicine&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Physiology or Medicine&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Economics&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Economics&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<p>With these tuples in hand, we can use a list comprehension to build a nice list of tuples containing the information about the laureates.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="p">[(</span><span class="n">cat</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">nat</span><span class="p">)</span> <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">nat</span><span class="p">,</span> <span class="n">cat</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">nationalities</span><span class="p">,</span> <span class="n">categories</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[(&#39;Chemistry&#39;, &#39;Frances Arnold&#39;, &#39;USA&#39;),
 (&#39;Chemistry&#39;, &#39;George Smith&#39;, &#39;USA&#39;),
 (&#39;Chemistry&#39;, &#39;Gregory Winter&#39;, &#39;UK&#39;),
 (&#39;Literature&#39;, &#39;postponed&#39;, &#39;---&#39;),
 (&#39;Peace&#39;, &#39;Denis Mukwege&#39;, &#39;DRC&#39;),
 (&#39;Peace&#39;, &#39;Nadia Murad&#39;, &#39;Iraq&#39;),
 (&#39;Physics&#39;, &#39;Arthur Ashkin&#39;, &#39;USA&#39;),
 (&#39;Physics&#39;, &#39;Gérard Mourou&#39;, &#39;France&#39;),
 (&#39;Physics&#39;, &#39;Donna Strickland&#39;, &#39;Canada&#39;),
 (&#39;Physiology or Medicine&#39;, &#39;James Allison&#39;, &#39;USA&#39;),
 (&#39;Physiology or Medicine&#39;, &#39;Tasuku Honjo&#39;, &#39;Japan&#39;),
 (&#39;Economics&#39;, &#39;William Nordhaus&#39;, &#39;USA&#39;),
 (&#39;Economics&#39;, &#39;Paul Romer&#39;, &#39;USA&#39;)]
</pre></div></div>
</div>
<p>Notice that I do not have to use <code class="docutils literal notranslate"><span class="pre">range()</span></code>; I can use any iterator, including one that puts out multiple values using <code class="docutils literal notranslate"><span class="pre">zip()</span></code>.</p>
<p>Now, let’s say we are really interested in the prize in chemistry. We can add an <code class="docutils literal notranslate"><span class="pre">if</span></code> statement to the comprehension like we did in the prime number example.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="p">[</span>
    <span class="p">(</span><span class="n">cat</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">nat</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">nat</span><span class="p">,</span> <span class="n">cat</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">nationalities</span><span class="p">,</span> <span class="n">categories</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">cat</span> <span class="o">==</span> <span class="s2">&quot;Chemistry&quot;</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[(&#39;Chemistry&#39;, &#39;Frances Arnold&#39;, &#39;USA&#39;),
 (&#39;Chemistry&#39;, &#39;George Smith&#39;, &#39;USA&#39;),
 (&#39;Chemistry&#39;, &#39;Gregory Winter&#39;, &#39;UK&#39;)]
</pre></div></div>
</div>
<p>(Note here that we split the list comprehension over many lines for readability, which is perfectly legal.) We can also nest iterators. For example, let’s say the the chemistry and medicine prize winners got together in Sweden and wanted to play against each other in basketball. There are three chemistry winners, but only two medicine winners. So, to play 2-on-2, we would have to choose only two chemistry laureates. So, let’s make a list of all possible pairs of chemistry winners.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># First get list of chemistry laureates</span>
<span class="n">chem_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">name</span> <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">cat</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">categories</span><span class="p">)</span> <span class="k">if</span> <span class="n">cat</span> <span class="o">==</span> <span class="s2">&quot;Chemistry&quot;</span><span class="p">]</span>

<span class="c1"># List of all possible pairs of chemistry laureates</span>
<span class="p">[</span>
    <span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">n1</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">chem_names</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">n2</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">chem_names</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">j</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[(&#39;Frances Arnold&#39;, &#39;George Smith&#39;),
 (&#39;Frances Arnold&#39;, &#39;Gregory Winter&#39;),
 (&#39;George Smith&#39;, &#39;Gregory Winter&#39;)]
</pre></div></div>
</div>
<p>To summarize this structure of list comprehensions, borrowing from <a class="reference external" href="https://www.dabeaz.com">Dave Beazley’s</a> explanation in <a class="reference external" href="https://www.dabeaz.com/per.html">Python Essential Reference</a>, a list comprehension has the following structure.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">expression_to_put_in_list</span> <span class="k">for</span> <span class="n">i_1</span> <span class="ow">in</span> <span class="n">iterable_1</span> <span class="k">if</span> <span class="n">condition_1</span>
                           <span class="k">for</span> <span class="n">i_2</span> <span class="ow">in</span> <span class="n">iterable_2</span> <span class="k">if</span> <span class="n">condition_2</span>
                                     <span class="o">...</span>
                           <span class="k">for</span> <span class="n">i_n</span> <span class="ow">in</span> <span class="n">iterable_n</span> <span class="k">if</span> <span class="n">condition_n</span><span class="p">]</span>
</pre></div>
</div>
<p>which is roughly equivalent to</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">my_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i_1</span> <span class="ow">in</span> <span class="n">iterable_1</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">condition_1</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i_2</span> <span class="ow">in</span> <span class="n">iterable_2</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">condition_2</span><span class="p">:</span>
                <span class="o">...</span>
                <span class="k">for</span> <span class="n">i_n</span> <span class="ow">in</span> <span class="n">iterable_n</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">condition_n</span><span class="p">:</span>
                        <span class="n">my_list</span> <span class="o">+=</span> <span class="p">[</span><span class="n">expression_to_put_in_list</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="What-if-you-want-an-else-statement-in-a-list-comprehension?">
<h3>What if you want an else statement in a list comprehension?<a class="headerlink" href="#What-if-you-want-an-else-statement-in-a-list-comprehension?" title="Permalink to this headline">¶</a></h3>
<p>Now, let’s say that we deem “Physiology or Medicine” to be too long of a title for the category of the prize. We instead want to substitute that phrase with “Medicine” for brevity. We might construct the list like this:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="p">[</span>
    <span class="p">(</span><span class="s2">&quot;Medicine&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">nat</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">nat</span><span class="p">,</span> <span class="n">cat</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">nationalities</span><span class="p">,</span> <span class="n">categories</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">cat</span> <span class="o">==</span> <span class="s2">&quot;Physiology or Medicine&quot;</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[(&#39;Medicine&#39;, &#39;James Allison&#39;, &#39;USA&#39;), (&#39;Medicine&#39;, &#39;Tasuku Honjo&#39;, &#39;Japan&#39;)]
</pre></div></div>
</div>
<p>This leaves out all of the other prizes. So, we need an <code class="docutils literal notranslate"><span class="pre">else</span></code> statement. To incllude all prizes, we might try it like this.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="p">[</span>
    <span class="p">(</span><span class="s2">&quot;Medicine&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">nat</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">nat</span><span class="p">,</span> <span class="n">cat</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">nationalities</span><span class="p">,</span> <span class="n">categories</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">cat</span> <span class="o">==</span> <span class="s2">&quot;Physiology or Medicine&quot;</span> <span class="k">else</span> <span class="p">(</span><span class="n">cat</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">nat</span><span class="p">)</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-cyan-fg">  File </span><span class="ansi-green-fg">&#34;&lt;ipython-input-10-0bfb7d47a7a6&gt;&#34;</span><span class="ansi-cyan-fg">, line </span><span class="ansi-green-fg">4</span>
<span class="ansi-red-fg">    if cat == &#34;Physiology or Medicine&#34; else (cat, name, nat)</span>
                                       ^
<span class="ansi-red-fg">SyntaxError</span><span class="ansi-red-fg">:</span> invalid syntax

</pre></div></div>
</div>
<p>Syntax error! This structure of a list comprehension does not match the template shown above. In the conditional expression of list comprehensions, you cannot have an else block.</p>
<p>However, the <code class="docutils literal notranslate"><span class="pre">expression_to_put_in_list</span></code> can be any valid Python expression. The following is a valid Python expression:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="s2">&quot;Medicine&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">nat</span><span class="p">)</span> <span class="k">if</span> <span class="n">cat</span> <span class="o">==</span> <span class="s2">&quot;Physiology or Medicine&quot;</span> <span class="k">else</span> <span class="p">(</span><span class="n">cat</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">nat</span><span class="p">)</span>
</pre></div>
</div>
<p>So, we can still use a list comprehension to build the list.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="p">[</span>
    <span class="p">(</span><span class="s2">&quot;Medicine&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">nat</span><span class="p">)</span> <span class="k">if</span> <span class="n">cat</span> <span class="o">==</span> <span class="s2">&quot;Physiology or Medicine&quot;</span> <span class="k">else</span> <span class="p">(</span><span class="n">cat</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">nat</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">nat</span><span class="p">,</span> <span class="n">cat</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">nationalities</span><span class="p">,</span> <span class="n">categories</span><span class="p">)</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[(&#39;Chemistry&#39;, &#39;Frances Arnold&#39;, &#39;USA&#39;),
 (&#39;Chemistry&#39;, &#39;George Smith&#39;, &#39;USA&#39;),
 (&#39;Chemistry&#39;, &#39;Gregory Winter&#39;, &#39;UK&#39;),
 (&#39;Literature&#39;, &#39;postponed&#39;, &#39;---&#39;),
 (&#39;Peace&#39;, &#39;Denis Mukwege&#39;, &#39;DRC&#39;),
 (&#39;Peace&#39;, &#39;Nadia Murad&#39;, &#39;Iraq&#39;),
 (&#39;Physics&#39;, &#39;Arthur Ashkin&#39;, &#39;USA&#39;),
 (&#39;Physics&#39;, &#39;Gérard Mourou&#39;, &#39;France&#39;),
 (&#39;Physics&#39;, &#39;Donna Strickland&#39;, &#39;Canada&#39;),
 (&#39;Medicine&#39;, &#39;James Allison&#39;, &#39;USA&#39;),
 (&#39;Medicine&#39;, &#39;Tasuku Honjo&#39;, &#39;Japan&#39;),
 (&#39;Economics&#39;, &#39;William Nordhaus&#39;, &#39;USA&#39;),
 (&#39;Economics&#39;, &#39;Paul Romer&#39;, &#39;USA&#39;)]
</pre></div></div>
</div>
<p>To be clear here, there is no conditional in the list comprehension; the conditional is in the expression to be added to the list, which we have called <code class="docutils literal notranslate"><span class="pre">expression_to_put_in_list</span></code>.</p>
<p>List comprehensions will prove very useful, and most Pythonistas use them extensively.</p>
</div>
</div>
<div class="section" id="Dictionary-comprehensions">
<h2>Dictionary comprehensions<a class="headerlink" href="#Dictionary-comprehensions" title="Permalink to this headline">¶</a></h2>
<p>In addition to list comprehensions, Python also allows for dictionary comprehensions (and set comprehensions, but we will not discuss sets in the bootcamp). To demonstrate a dictionary comprehension, let’s use the name of the laureate as a key and the values in the dictionary are their nationality and category.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="p">{</span><span class="n">name</span><span class="p">:</span> <span class="p">(</span><span class="n">cat</span><span class="p">,</span> <span class="n">nat</span><span class="p">)</span> <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">nat</span><span class="p">,</span> <span class="n">cat</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">nationalities</span><span class="p">,</span> <span class="n">categories</span><span class="p">)}</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;Frances Arnold&#39;: (&#39;Chemistry&#39;, &#39;USA&#39;),
 &#39;George Smith&#39;: (&#39;Chemistry&#39;, &#39;USA&#39;),
 &#39;Gregory Winter&#39;: (&#39;Chemistry&#39;, &#39;UK&#39;),
 &#39;postponed&#39;: (&#39;Literature&#39;, &#39;---&#39;),
 &#39;Denis Mukwege&#39;: (&#39;Peace&#39;, &#39;DRC&#39;),
 &#39;Nadia Murad&#39;: (&#39;Peace&#39;, &#39;Iraq&#39;),
 &#39;Arthur Ashkin&#39;: (&#39;Physics&#39;, &#39;USA&#39;),
 &#39;Gérard Mourou&#39;: (&#39;Physics&#39;, &#39;France&#39;),
 &#39;Donna Strickland&#39;: (&#39;Physics&#39;, &#39;Canada&#39;),
 &#39;James Allison&#39;: (&#39;Physiology or Medicine&#39;, &#39;USA&#39;),
 &#39;Tasuku Honjo&#39;: (&#39;Physiology or Medicine&#39;, &#39;Japan&#39;),
 &#39;William Nordhaus&#39;: (&#39;Economics&#39;, &#39;USA&#39;),
 &#39;Paul Romer&#39;: (&#39;Economics&#39;, &#39;USA&#39;)}
</pre></div></div>
</div>
<p>Aaaand we have our dictionary! This is quite a powerful way to construct this, and you may find dictionary comprehensions quite useful. I use them in specifying <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code> and in creating dictionaries I want to convert to data frames.</p>
</div>
<div class="section" id="Paul-Romer-and-Jupyter-and-open-source-software">
<h2>Paul Romer and Jupyter and open source software<a class="headerlink" href="#Paul-Romer-and-Jupyter-and-open-source-software" title="Permalink to this headline">¶</a></h2>
<p>Coincidentally, one of the laureates featured in this lesson, Paul Romer, is a big fan of Jupyter notebooks. I love this quote from <a class="reference external" href="https://paulromer.net/jupyter-mathematica-and-the-future-of-the-research-paper/">this blog post of his</a>:</p>
<blockquote>
<div><p>In the larger contest between open and proprietary models, Mathematica versus Jupyter would be a draw if the only concern were their technical accomplishments. In the 1990s, Mathematica opened up an undeniable lead. Now, Jupyter is the unambiguous technical leader.</p>
<p>The tie-breaker is social, not technical. The more I learn about the open source community, the more I trust its members. The more I learn about proprietary software, the more I worry that objective truth might perish from the earth.</p>
</div></blockquote>
</div>
<div class="section" id="Computing-environment">
<h2>Computing environment<a class="headerlink" href="#Computing-environment" title="Permalink to this headline">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%</span><span class="k">load_ext</span> watermark
<span class="o">%</span><span class="k">watermark</span> -v -p numpy,jupyterlab
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Python implementation: CPython
Python version       : 3.8.10
IPython version      : 7.22.0

numpy     : 1.20.2
jupyterlab: 3.0.14

</pre></div></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="l25_hackerstats_1.html" class="btn btn-neutral float-right" title="Lesson 25: Hacker stats I" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="l23_random_number_generation.html" class="btn btn-neutral float-left" title="Lesson 23: Random number generation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
      <span class="lastupdated">
        Last updated on Jun 29, 2021.
      </span>

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-65442910-1', 'auto');
    
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>