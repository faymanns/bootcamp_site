

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Lesson 35: Regular expressions &mdash; Programming Bootcamp  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/togglebutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script src="../_static/togglebutton.js"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "document", "processHtmlClass": "math|output_area"}}</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Lesson 36: Introduction to object-oriented programming" href="l36_intro_to_oop.html" />
    <link rel="prev" title="Lesson 34: More about the command line" href="l34_more_command_line.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #F1F2D8" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Lessons</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="l00_configuring_your_computer.html">Lesson 0: Configuring your computer</a></li>
<li class="toctree-l1"><a class="reference internal" href="l01_welcome.html">Lesson 1: Welcome and Introduction to JupyterLab</a></li>
<li class="toctree-l1"><a class="reference internal" href="l02_basic_command_line_skills.html">Lesson 2: Basic command line skills</a></li>
<li class="toctree-l1"><a class="reference internal" href="l03_variables_operators_types.html">Lesson 3: Variables, operators, and types</a></li>
<li class="toctree-l1"><a class="reference internal" href="l04_more_operators_and_conditionals.html">Lesson 4: More operators and conditionals</a></li>
<li class="toctree-l1"><a class="reference internal" href="l05_lists_and_tuples.html">Lesson 5: Lists and tuples</a></li>
<li class="toctree-l1"><a class="reference internal" href="l06_iteration.html">Lesson 6: Iteration</a></li>
<li class="toctree-l1"><a class="reference internal" href="l07_intro_to_functions.html">Lesson 7: Introduction to functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="l08_string_methods.html">Lesson 8: String methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="l09_dictionaries.html">Lesson 9: Dictionaries</a></li>
<li class="toctree-l1"><a class="reference internal" href="l10_packages_and_modules.html">Lesson 10: Packages and modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="l11_file_io.html">Lesson 11: File I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="l12_version_control_with_git.html">Lesson 12: Version control with Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="l13_exceptions_and_error_handling.html">Lesson 13: Errors and Exception handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="l16_style.html">Lesson 16: Style</a></li>
<li class="toctree-l1"><a class="reference internal" href="l17_intro_to_pandas.html">Lesson 17: Introduction to Pandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="l18_split_apply_combine.html">Lesson 18: Tidy data and split-apply-combine</a></li>
<li class="toctree-l1"><a class="reference internal" href="l19_plotting.html">Lesson 19: Making plots</a></li>
<li class="toctree-l1"><a class="reference internal" href="l20_high_level_plotting.html">Lesson 20: High level plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="l21_intro_to_numpy_and_scipy.html">Lesson 21: Introduction to Numpy and Scipy</a></li>
<li class="toctree-l1"><a class="reference internal" href="l22_plotting_time_series_generated_data.html">Lesson 22: Plotting time series and generated data</a></li>
<li class="toctree-l1"><a class="reference internal" href="l23_random_number_generation.html">Lesson 23: Random number generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="l24_comprehensions.html">Lesson 24: Comprehensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="l25_hackerstats_1.html">Lesson 25: Hacker stats I</a></li>
<li class="toctree-l1"><a class="reference internal" href="l26_hackerstats_2.html">Lesson 26: Hacker stats II</a></li>
<li class="toctree-l1"><a class="reference internal" href="l27_holoviews.html">Lesson 27: High level plotting with HoloViews</a></li>
<li class="toctree-l1"><a class="reference internal" href="l28_overplotting.html">Lesson 28: Dealing with overplotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="l38_intro_to_image_processing.html">Lesson 38: Introduction to image processing with scikit-image</a></li>
<li class="toctree-l1"><a class="reference internal" href="l39_segmentation.html">Lesson 39: Basic image quantification</a></li>
<li class="toctree-l1"><a class="reference internal" href="l32_other_packages_and_languages.html">Lesson 32: Survey of other packages and languages</a></li>
<li class="toctree-l1"><a class="reference internal" href="l33_bootcamp_recap.html">Lesson 33: Bootcamp recap</a></li>
</ul>
<p class="caption"><span class="caption-text">Auxiliary lessons</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="l30_javascript_for_bokeh.html">Lesson 30: JavaScript for stand-alone Bokeh apps</a></li>
<li class="toctree-l1"><a class="reference internal" href="l31_intro_to_scripting.html">Lesson 31: Introduction to scripting</a></li>
<li class="toctree-l1"><a class="reference internal" href="l34_more_command_line.html">Lesson 34: More about the command line</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Lesson 35: Regular expressions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Background">Background</a></li>
<li class="toctree-l2"><a class="reference internal" href="#REs-in-Python">REs in Python</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Compiling-REs">Compiling REs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Flags-in-REs">Flags in REs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Metacharacters-in-Python-REs">Metacharacters in Python REs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Searching,-Matching,-Splitting,-and-more">Searching, Matching, Splitting, and more</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Combinations-of-metacharacters-in-RE">Combinations of metacharacters in RE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#greedy-vs-non-greedy">greedy vs non-greedy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#More-escaping">More escaping</a></li>
<li class="toctree-l4"><a class="reference internal" href="#The-very-powerful-question-mark">The very powerful question mark</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#A-shortcut-to-avoid-compiling">A shortcut to avoid compiling</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Example:-using-REs-with-sequence-data">Example: using REs with sequence data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Using-match()-and-search()">Using match() and search()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Find-and-replace-with-regexes">Find and replace with regexes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Example-2:-Using-REs-to-parse-sequence-FASTA-files">Example 2: Using REs to parse sequence FASTA files</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Just-scratching-the-surface">Just scratching the surface</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Computing-environment">Computing environment</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="l36_intro_to_oop.html">Lesson 36: Introduction to object-oriented programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="l37_algorithmic_complexity.html">Lesson 37: Algorithmic complexity</a></li>
<li class="toctree-l1"><a class="reference internal" href="l40_serial.html">Lesson 40: Control of external devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="l41_serial_apps.html">Lesson 41. Apps for controlling external devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="l42_control_panels.html">Lesson 42: Control panels</a></li>
<li class="toctree-l1"><a class="reference internal" href="l14_testing_and_tdd.html">Lesson 14: Testing and test-driven development</a></li>
<li class="toctree-l1"><a class="reference internal" href="l15_examples_of_tdd.html">Lesson 15: Examples of TDD</a></li>
<li class="toctree-l1"><a class="reference internal" href="l29_dashboards.html">Lesson 29: Dashboards</a></li>
</ul>
<p class="caption"><span class="caption-text">Exercises</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../exercises/exercise_1/index.html">Exercise 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercises/exercise_2/index.html">Exercise 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercises/exercise_3/index.html">Exercise 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercises/exercise_4/index.html">Exercise 4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercises/exercise_5/index.html">Exercise 5</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercises/exercise_6/index.html">Exercise 6</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercises/exercise_7/index.html">Exercise 7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercises/exercise_8/index.html">Exercise 8</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercises/exercise_9/index.html">Exercise 9</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercises/exercise_10/index.html">Exercise 10</a></li>
</ul>
<p class="caption"><span class="caption-text">Schedule</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../schedule.html">Schedule overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../schedule.html#daily-schedule">Daily schedule</a></li>
</ul>
<p class="caption"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../resources.html">Scientific Python distribution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources.html#online-instruction">Online instruction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources.html#books">Books</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources.html#griffin-chure-s-templates-for-reproducible-publishing">Griffin Chure’s templates for reproducible publishing</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Programming Bootcamp</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Lesson 35: Regular expressions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/lessons/l35_regular_expressions.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="Lesson-35:-Regular-expressions">
<h1>Lesson 35: Regular expressions<a class="headerlink" href="#Lesson-35:-Regular-expressions" title="Permalink to this headline">¶</a></h1>
<p>This lesson was developed in collaboration with Axel Müller.</p>
<hr><div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">re</span>
</pre></div>
</div>
</div>
<hr><p>In this tutorial, we will learn about very useful and pervasive text processing tools called <strong>regular expressions</strong>, a.k.a. RE, re, regex, regexp, regex patterns. They are tools for specifying text matching patterns. The desired patterns can then be quickly and automatically extracted from possible large amounts of text. This is particularly useful in parsing files in bioinformatics.</p>
<div class="section" id="Background">
<h2>Background<a class="headerlink" href="#Background" title="Permalink to this headline">¶</a></h2>
<p>The underlying theory of regexes dates back to 1956. It was developed by Stephen Cole Kleene as part of theoretical computer science’s attempt to describe a regular language. In the late 60’s and early 70’s regexes got broader attention as they could be used in lexical analysis of compilers and in pattern matching of text editors such as <code class="docutils literal notranslate"><span class="pre">ed</span></code>. Executing the latter function is synonymous to employing <code class="docutils literal notranslate"><span class="pre">Ctrl+F</span></code> or <code class="docutils literal notranslate"><span class="pre">Command+F</span></code> today to search a document for text.</p>
<p>Regular expressions are in itself a very specialized and compact programing language that can be employed straight away in a number of command line tools such as <code class="docutils literal notranslate"><span class="pre">awk</span></code>, <code class="docutils literal notranslate"><span class="pre">sed</span></code>, and <code class="docutils literal notranslate"><span class="pre">grep</span></code>. Higher level programming languages such as Perl and Python employ a slightly modified version. To use them in Python we need to import the <code class="docutils literal notranslate"><span class="pre">re</span></code> module.</p>
<p>Before we move on to see how regexes are used in Python let’s first have a look at a simple example of regexes at work:</p>
<p>The file <code class="docutils literal notranslate"><span class="pre">data/towels.txt</span></code> contains some relevant information regarding towels. We will use the <code class="docutils literal notranslate"><span class="pre">grep</span></code> on the command line to print lines that match a regular expression. The syntax for grep is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>grep &quot;some search string&quot; some_file.txt
</pre></div>
</div>
<p>(The name grep is inspired by the command <code class="docutils literal notranslate"><span class="pre">g/re/p</span></code>, globular search/regular expression/print)</p>
<p>First of all a quick look at the text file. For this we use <code class="docutils literal notranslate"><span class="pre">cat</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">!</span>cat <span class="s1">&#39;data/towels.txt&#39;</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The Hitch Hiker&#39;s Guide to the Galaxy has a few things to
say on the subject of towels.
A towel, it says, is about the most massively useful thing
an interstellar hitchhiker can have.  Partly it has great
practical value - you can wrap it around you for warmth as
you bound across the cold moons of Jaglan Beta; you can lie
on it on the brilliant marble-sanded beaches of Santraginus
V, inhaling the heady sea vapours; you can sleep under it
beneath the stars which shine so redly on the desert world
of Kakrafoon; use it to sail a mini raft down the slow heavy
river Moth; wet it for use in hand-to- hand-combat; wrap it
round your head to ward off noxious fumes or to avoid the
gaze of the Ravenous Bugblatter Beast of Traal (a
mindboggingly stupid animal, it assumes that if you can&#39;t
see it, it can&#39;t see you - daft as a bush, but very
ravenous); you can wave your towel in emergencies as a
distress signal, and of course dry yourself off with it if
it still seems to be clean enough.  More importantly, a
towel has immense psychological value.  For some reason, if
a strag (strag: non-hitch hiker) discovers that a hitch
hiker has his towel with him, he will automatically assume
that he is also in possession of a toothbrush, face flannel,
soap, tin of biscuits, flask, compass, map, ball of string,
gnat spray, wet weather gear, space suit etc., etc.
Furthermore, the strag will then happily lend the hitch
hiker any of these or a dozen other items that the hitch
hiker might accidentally have &#34;lost&#34;.  What the strag will
think is that any man who can hitch the length and breadth
of the galaxy, rough it, slum it, struggle against terrible
odds, win through, and still knows where his towel is is
clearly a man to be reckoned with.

Douglas Adams:  &#34;The Hitchhiker&#39;s Guide to the Galaxy&#34;
</pre></div></div>
</div>
<p>Since the text concerns towels we might be interested in getting every line that contains the term “towel”.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">!</span>grep <span class="s2">&quot;towel&quot;</span> data/towels.txt
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
say on the subject of towels.
A towel, it says, is about the most massively useful thing
ravenous); you can wave your towel in emergencies as a
towel has immense psychological value.  For some reason, if
hiker has his towel with him, he will automatically assume
odds, win through, and still knows where his towel is is
</pre></div></div>
</div>
<p>Please note that this finds lines that contain the string “<code class="docutils literal notranslate"><span class="pre">towel</span></code>” as well as as the string “<code class="docutils literal notranslate"><span class="pre">towels</span></code>”.</p>
<p>A more interesting problem arises when we want to look up lines that say something about hitchhikers. A quick look at the text above shows us that Douglas Adams enjoyed his poetic liberty as far as the spelling of the word “hitchhiker” was concerned. We find the following versions: Hitch Hiker hitchhiker hitch hiker Hitchhiker</p>
<p>Can regexes help us to find all the different spellings?</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">!</span>grep <span class="s2">&quot;\(H\|h\)itch *\(H\|h\)iker&quot;</span> data/towels.txt
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The Hitch Hiker&#39;s Guide to the Galaxy has a few things to
an interstellar hitchhiker can have.  Partly it has great
a strag (strag: non-hitch hiker) discovers that a hitch
Douglas Adams:  &#34;The Hitchhiker&#39;s Guide to the Galaxy&#34;
</pre></div></div>
</div>
<p>The escape character <code class="docutils literal notranslate"><span class="pre">\</span></code> tells grep to treat the following character differently. The pipe character <code class="docutils literal notranslate"><span class="pre">|</span></code> is a logical OR. Thus, the expression <code class="docutils literal notranslate"><span class="pre">\(H\|h\)</span></code> is interpreted as “<code class="docutils literal notranslate"><span class="pre">H</span></code> or <code class="docutils literal notranslate"><span class="pre">h</span></code>”. The Kleene star, <code class="docutils literal notranslate"><span class="pre">*</span></code>, means that the preceding character occurs zero, one, or more times. In our example this means that the strings hitch and hiker are either separated by one or more spaces, or not separated at all.</p>
<p>Often it is possible to employ a number of different REs to the same end. In more advanced cases choosing the appropriate RE can have a significant impact on performance. In many other cases however the time gained by executing the perfect RE won’t make up for the time invested in crafting it.</p>
</div>
<div class="section" id="REs-in-Python">
<h2>REs in Python<a class="headerlink" href="#REs-in-Python" title="Permalink to this headline">¶</a></h2>
<p>Python’s <code class="docutils literal notranslate"><span class="pre">re</span></code> module enables use of REs within Python programs. This is useful for parsing strings. The <a class="reference external" href="https://docs.python.org/3/library/re.html">standard library documentation</a> is quite good and is a useful resource.</p>
<p>Unlike most other code we write in Python, REs are compiled into series of bytecode and executed in C, which makes them extremely fast. After we have compiled a regular expression, it has methods, such as <code class="docutils literal notranslate"><span class="pre">match</span></code>, that allow us to process strings with our compiled regular expression.</p>
<div class="section" id="Compiling-REs">
<h3>Compiling REs<a class="headerlink" href="#Compiling-REs" title="Permalink to this headline">¶</a></h3>
<p>We will investigate the syntax of the <code class="docutils literal notranslate"><span class="pre">re</span></code> module, as usual, through example. In this case, we will use an RE to find instances of hitchhiker-like words in the text from Douglas Adams.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Read file contents as a single string</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;data/towels.txt&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">hh_string</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># Define the regex pattern</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="s1">&#39;.*[H|h]itch *[H|h]iker.*&#39;</span>
<span class="n">regex</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">pattern</span><span class="p">)</span>

<span class="c1"># Get list: each item is string with line that has variant of hitchhiker in it</span>
<span class="n">regex</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">hh_string</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#34;The Hitch Hiker&#39;s Guide to the Galaxy has a few things to&#34;,
 &#39;an interstellar hitchhiker can have.  Partly it has great&#39;,
 &#39;a strag (strag: non-hitch hiker) discovers that a hitch&#39;,
 &#39;Douglas Adams:  &#34;The Hitchhiker\&#39;s Guide to the Galaxy&#34; &#39;]
</pre></div></div>
</div>
<p>We get a list of lines in the <code class="docutils literal notranslate"><span class="pre">towels.txt</span></code> file that have a hitchhiker-like word in them.</p>
<p>Notice that the syntax is a bit different than the regex we used with <code class="docutils literal notranslate"><span class="pre">grep</span></code> on the command line. First, let’s discuss the pattern.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>.*[H|h]itch *[H|h]iker.*
</pre></div>
</div>
<p>Importantly, we do not use the escape character, <code class="docutils literal notranslate"><span class="pre">\</span></code>. We use it instead if we want to match explicitly the following character. I.e., if we are actually looking for a bracket in the string.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Define the regex pattern</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="s1">&#39;\[&#39;</span>
<span class="n">regex</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">pattern</span><span class="p">)</span>

<span class="c1"># Get list: each item is string with line that has variant of hitchhiker in it</span>
<span class="n">regex</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;Find the[ bracket.&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;[&#39;]
</pre></div></div>
</div>
<p>Looking again at our <code class="docutils literal notranslate"><span class="pre">.*[H|h]itch</span> <span class="pre">*[H|h]iker.*</span></code> pattern, the opening and closing <code class="docutils literal notranslate"><span class="pre">.*</span></code> mean that we do not care what comes before or after the hitchhiker-like expression in the line. The “<code class="docutils literal notranslate"><span class="pre">*</span></code>” in the middle of the expression means the same as in the command line case: arbitrarily many spaces (including zero) may be between <code class="docutils literal notranslate"><span class="pre">hitch</span></code> and <code class="docutils literal notranslate"><span class="pre">hiker</span></code>.</p>
<p>We use <code class="docutils literal notranslate"><span class="pre">[H/h]</span></code> to mean either upper or lowercase <code class="docutils literal notranslate"><span class="pre">H</span></code>. This is in contrast to the regex we used with <code class="docutils literal notranslate"><span class="pre">grep</span></code>, which used parentheses. In Python’s <code class="docutils literal notranslate"><span class="pre">re</span></code> module, parentheses serve to form <strong>groups</strong>. Let’s see what happens if we use some parentheses.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Define the regex pattern</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="s1">&#39;(.*((H|h)itch *(H|h)iker).*)&#39;</span>
<span class="n">regex</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">pattern</span><span class="p">)</span>

<span class="c1"># Get list: each item is string with line that has variant of hitchhiker in it</span>
<span class="n">regex</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">hh_string</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[(&#34;The Hitch Hiker&#39;s Guide to the Galaxy has a few things to&#34;,
  &#39;Hitch Hiker&#39;,
  &#39;H&#39;,
  &#39;H&#39;),
 (&#39;an interstellar hitchhiker can have.  Partly it has great&#39;,
  &#39;hitchhiker&#39;,
  &#39;h&#39;,
  &#39;h&#39;),
 (&#39;a strag (strag: non-hitch hiker) discovers that a hitch&#39;,
  &#39;hitch hiker&#39;,
  &#39;h&#39;,
  &#39;h&#39;),
 (&#39;Douglas Adams:  &#34;The Hitchhiker\&#39;s Guide to the Galaxy&#34; &#39;,
  &#39;Hitchhiker&#39;,
  &#39;H&#39;,
  &#39;h&#39;)]
</pre></div></div>
</div>
<p>The parentheses form a hierarchy of groups. At the outermost level, we get the entire line that has a hitchhiker-like word. At the next level, we get the actual hitchhiker-like word. And at the innermost level, we get the individual <code class="docutils literal notranslate"><span class="pre">H</span></code> characters.</p>
</div>
<div class="section" id="Flags-in-REs">
<h3>Flags in REs<a class="headerlink" href="#Flags-in-REs" title="Permalink to this headline">¶</a></h3>
<p>We can also compile REs with <strong>flags</strong>. These are given as a second argument for the <code class="docutils literal notranslate"><span class="pre">re.compile</span></code> function and specify variants on how the RE compilation is to be done. For example, we could have used a flag to make our RE even simpler.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Define the regex pattern</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="s1">&#39;.*hitch *hiker.*&#39;</span>
<span class="n">regex</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span>

<span class="c1"># Get list: each item is string with line that has variant of hitchhiker in it</span>
<span class="n">regex</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">hh_string</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#34;The Hitch Hiker&#39;s Guide to the Galaxy has a few things to&#34;,
 &#39;an interstellar hitchhiker can have.  Partly it has great&#39;,
 &#39;a strag (strag: non-hitch hiker) discovers that a hitch&#39;,
 &#39;Douglas Adams:  &#34;The Hitchhiker\&#39;s Guide to the Galaxy&#34; &#39;]
</pre></div></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">re.IGNORECASE</span></code> flag allowed us to avoid having to have <code class="docutils literal notranslate"><span class="pre">[H|h]</span></code> in the RE. This just tells <code class="docutils literal notranslate"><span class="pre">re.compile</span></code> to treat lowercase and uppercase characters the same. Let’s have a look at the available flags:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 40%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>flag</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">re.DEBUG</span></code></p></td>
<td><p>Displays debugging information about compiled expression</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">re.IGNORECASE</span></code></p></td>
<td><p>Case insensitive matching</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">re.MULTILINE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">^</span></code> and <code class="docutils literal notranslate"><span class="pre">$</span></code> also match the beginning and end of a line respectively.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">re.DOTALL</span></code></p></td>
<td><p>As mentioned above that allows <code class="docutils literal notranslate"><span class="pre">.</span></code> to match any character.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">re.VERBOSE</span></code></p></td>
<td><p>Allows the usage of comments; everything left of the <code class="docutils literal notranslate"><span class="pre">#</span></code> will be ignored. This flag also ignores non-escaped whitespace (i.e., whitespace without the preceding <code class="docutils literal notranslate"><span class="pre">\</span></code>). This improves the readability of REs.</p></td>
</tr>
</tbody>
</table>
<p>To combine flags, separate them with a vertical bar (the bitwise OR operator). E.g.,</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>my_regex_query = re.compile(&quot;hitch *hiker&quot;, re.IGNORECASE | re.VERBOSE)
</pre></div>
</div>
</div>
<div class="section" id="Metacharacters-in-Python-REs">
<h3>Metacharacters in Python REs<a class="headerlink" href="#Metacharacters-in-Python-REs" title="Permalink to this headline">¶</a></h3>
<p>In the command line example using <code class="docutils literal notranslate"><span class="pre">grep</span></code>, we got acquainted with a few metacharacters that help us improve our pattern matching. Let’s have a look at all RE metacharacters that can be used in Python:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 54%" />
<col style="width: 46%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Metacharacter</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">.</span></code></p></td>
<td><p>(dot) The ultimate wildcard. It matches any character other than the newline character (<code class="docutils literal notranslate"><span class="pre">\n</span></code>). If it is desireable to also match <code class="docutils literal notranslate"><span class="pre">\n</span></code> the alternative mode (<code class="docutils literal notranslate"><span class="pre">re.DOTALL</span></code>) can be invoked.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">^</span></code></p></td>
<td><p>(caret) Matches the start of a new string and the position immediately after a newline character.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">$</span></code></p></td>
<td><p>Similar to caret but goes for the end of the string and the character preceeding the newline character.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">*</span></code></p></td>
<td><p>The Kleene star <code class="docutils literal notranslate"><span class="pre">*</span></code> following a RE allows 0 or multiple repitition of the this expression. <code class="docutils literal notranslate"><span class="pre">ab*c</span></code> will match <code class="docutils literal notranslate"><span class="pre">ac</span></code>, <code class="docutils literal notranslate"><span class="pre">abc</span></code>, <code class="docutils literal notranslate"><span class="pre">abbc</span></code>, <code class="docutils literal notranslate"><span class="pre">abbbc</span></code>, …</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">+</span></code></p></td>
<td><p>Similar to the Kleene star, but it matches 1 or more occurences of the preceding RE, thus <code class="docutils literal notranslate"><span class="pre">ab+c</span></code> matches <code class="docutils literal notranslate"><span class="pre">abc</span></code>, <code class="docutils literal notranslate"><span class="pre">abbc</span></code>, <code class="docutils literal notranslate"><span class="pre">abbbc</span></code>, but not <code class="docutils literal notranslate"><span class="pre">ac</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">?</span></code></p></td>
<td><p>Matches 0 or 1 repetition of the RE. <code class="docutils literal notranslate"><span class="pre">ab?</span></code> matches <code class="docutils literal notranslate"><span class="pre">a</span></code>, and <code class="docutils literal notranslate"><span class="pre">ab</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">{m}</span></code></p></td>
<td><p>Matches exactly <code class="docutils literal notranslate"><span class="pre">m</span></code> repeats. <code class="docutils literal notranslate"><span class="pre">a{3}</span></code> equals <code class="docutils literal notranslate"><span class="pre">aaa</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">{m,n}</span></code></p></td>
<td><p>Matches m to n repeats, <code class="docutils literal notranslate"><span class="pre">a{2,4}</span></code> yields <code class="docutils literal notranslate"><span class="pre">aa</span></code>, <code class="docutils literal notranslate"><span class="pre">aaa</span></code>, and <code class="docutils literal notranslate"><span class="pre">aaaa</span></code>. The lower and upper bounds are optional <code class="docutils literal notranslate"><span class="pre">a{,4}</span></code> is the same as <code class="docutils literal notranslate"><span class="pre">a{0,4}</span></code>. Omiting the upper bound <code class="docutils literal notranslate"><span class="pre">a{4,}</span></code> yields anything with four or more
repetitions of <code class="docutils literal notranslate"><span class="pre">a</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">[]</span></code></p></td>
<td><p>Square brackets are used to describe a set of characters eg: <code class="docutils literal notranslate"><span class="pre">\[atcg\]</span></code> matches, <code class="docutils literal notranslate"><span class="pre">a</span></code>, <code class="docutils literal notranslate"><span class="pre">t</span></code>, <code class="docutils literal notranslate"><span class="pre">c</span></code>, or <code class="docutils literal notranslate"><span class="pre">g</span></code>, <code class="docutils literal notranslate"><span class="pre">\[a-z\]</span></code> matches any lowercase ASCII letter. <code class="docutils literal notranslate"><span class="pre">\[0-2\]\[0,9\]</span></code> matches all numbers from 00 to 29. It is
important to note that metacharacters lose their special function within sets. Thus, <code class="docutils literal notranslate"><span class="pre">[(a\*b+)]</span></code> matches <code class="docutils literal notranslate"><span class="pre">(</span></code>, <code class="docutils literal notranslate"><span class="pre">a</span></code>, <code class="docutils literal notranslate"><span class="pre">\\</span></code>, <code class="docutils literal notranslate"><span class="pre">\*</span></code>, <code class="docutils literal notranslate"><span class="pre">b</span></code>, <code class="docutils literal notranslate"><span class="pre">+</span></code>, and <code class="docutils literal notranslate"><span class="pre">)</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\\</span></code></p></td>
<td><p>The escape character <code class="docutils literal notranslate"><span class="pre">\\</span></code> makes sure that the following character is interpreted literally. The Kleene star (<code class="docutils literal notranslate"><span class="pre">*</span></code>) for example will be interpreted as a simple asterisk if prefaced by the escape character (<code class="docutils literal notranslate"><span class="pre">\\\*</span></code>)</p></td>
</tr>
<tr class="row-even"><td><p>|</p></td>
<td><p>Logical or</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">(...)</span></code></p></td>
<td><p>matches whatever regular expression is inside the parentheses. As we discussed, these serve to describe groupings.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="Searching,-Matching,-Splitting,-and-more">
<h3>Searching, Matching, Splitting, and more<a class="headerlink" href="#Searching,-Matching,-Splitting,-and-more" title="Permalink to this headline">¶</a></h3>
<p>Once we are happy with our compiled RE we can deploy it in a number of ways. Upon compilation, we have created a compiled <code class="docutils literal notranslate"><span class="pre">SRE_Pattern</span></code> object that has methods for searching strings. In the table below, we will assume the compiled object is called <code class="docutils literal notranslate"><span class="pre">regex</span></code>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 58%" />
<col style="width: 42%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>action</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">regex.search(string,</span> <span class="pre">flags=0)</span></code></p></td>
<td><p>Scans through string and returns first matching object</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">regex.match(string,</span> <span class="pre">flags=0)</span></code></p></td>
<td><p>Returns object if zero or more characters at the beginning of the string match.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">regex.fullmatch(string,</span> <span class="pre">flags=0)</span></code></p></td>
<td><p>returns matching object if the whole string matches the RE otherwise RE is returned.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">regex.findall(string,</span> <span class="pre">flags=0)</span></code></p></td>
<td><p>Returns a list of all matches in the string. If there was grouping, each entry in the list is tuple, where each entry has the a match for different levels of grouping.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">regex.finditer(string,</span> <span class="pre">flags=0)</span></code></p></td>
<td><p>Same as <code class="docutils literal notranslate"><span class="pre">regex.findall()</span></code>, except returns an iterator that yields a match object instead of a list.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">regex.split(string,</span> <span class="pre">maxsplit=0,</span> <span class="pre">flags=0)</span></code></p></td>
<td><p>A new feature from Python 3.4, splits the string into a list by occurrences of patterns, see example below</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="Combinations-of-metacharacters-in-RE">
<h3>Combinations of metacharacters in RE<a class="headerlink" href="#Combinations-of-metacharacters-in-RE" title="Permalink to this headline">¶</a></h3>
<div class="section" id="greedy-vs-non-greedy">
<h4>greedy vs non-greedy<a class="headerlink" href="#greedy-vs-non-greedy" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">+</span></code>, <code class="docutils literal notranslate"><span class="pre">\*</span></code>, and <code class="docutils literal notranslate"><span class="pre">?</span></code> match as much text as possible. This behavior is referred to as greedy. Adding a <code class="docutils literal notranslate"><span class="pre">?</span></code> after these qualifiers renders them non greedy, yielding the shortest possible answer. For example applying the RE <code class="docutils literal notranslate"><span class="pre">(K.\*F)</span></code> to this amino acid sequence: <code class="docutils literal notranslate"><span class="pre">MKKSLVFAFFAFFLSL</span></code> yields: <code class="docutils literal notranslate"><span class="pre">KKSLVFAFFAFF</span></code> whereas <code class="docutils literal notranslate"><span class="pre">(K.\*?F)</span></code> would yield: <code class="docutils literal notranslate"><span class="pre">KSLVF</span></code></p>
</div>
<div class="section" id="More-escaping">
<h4>More escaping<a class="headerlink" href="#More-escaping" title="Permalink to this headline">¶</a></h4>
<p>Let’s have a look at how a <strong>word</strong> is defined before having a look at more escape options. A word is a sequence of Unicode alphanumeric or underscore characters. Examples are:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Hello_world
P4ssw0rd
</pre></div>
</div>
<p>Unless we specify wild card characters or ask for whole lines, a regex search will return words. We can further specify which words will be returned with the escape characters below.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 48%" />
<col style="width: 52%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>.</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">\number</span></code></p></td>
<td><p>Matches the number-times repeat of a group. For example applying <code class="docutils literal notranslate"><span class="pre">(.+)</span> <span class="pre">\1</span></code> to the string <code class="docutils literal notranslate"><span class="pre">Homo</span> <span class="pre">sapiens</span> <span class="pre">sapiens</span></code> returns <code class="docutils literal notranslate"><span class="pre">sapiens</span> <span class="pre">sapiens</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\A</span></code></p></td>
<td><p>Matches the start of a string</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">\b</span></code></p></td>
<td><p>Matches the empty string at the beginning or ending of a word. Thus using <code class="docutils literal notranslate"><span class="pre">towel\b</span></code> in the example above would only yield lines with the word towel and not towels.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\B</span></code></p></td>
<td><p>Opposite of <code class="docutils literal notranslate"><span class="pre">\b</span></code>. Thus <code class="docutils literal notranslate"><span class="pre">towel\B</span></code> would yield towels.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">\d</span></code></p></td>
<td><p>Matches any unicode decimal digit.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\D</span></code></p></td>
<td><p>Opposite of <code class="docutils literal notranslate"><span class="pre">\d</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">\s</span></code></p></td>
<td><p>Matches whitespace characters</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\S</span></code></p></td>
<td><p>Opposite of <code class="docutils literal notranslate"><span class="pre">\s</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">\w</span></code></p></td>
<td><p>Matches Unicode word characters</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\W</span></code></p></td>
<td><p>Opposite of <code class="docutils literal notranslate"><span class="pre">\W</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">\Z</span></code></p></td>
<td><p>Matches only the end of the string</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="The-very-powerful-question-mark">
<h4>The very powerful question mark<a class="headerlink" href="#The-very-powerful-question-mark" title="Permalink to this headline">¶</a></h4>
<p>With the help of <code class="docutils literal notranslate"><span class="pre">?</span></code> we can expand the functionality of parentheses. The general syntax is <code class="docutils literal notranslate"><span class="pre">(?...)</span></code>. We will not get into these here, but the table below gives a summary, and more detail can be found in the <code class="docutils literal notranslate"><span class="pre">`re</span></code> package documentation &lt;<a class="reference external" href="https://docs.python.org/3/library/re.html">https://docs.python.org/3/library/re.html</a>&gt;`__.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 41%" />
<col style="width: 59%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><code class="docutils literal notranslate"><span class="pre">(?...)</span></code></p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">(?HKRED)</span></code></p></td>
<td><p>Matches one or more characters</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">(?:...)</span></code></p></td>
<td><p>Non-capturing version of the regular parentheses</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">(?&lt;name&gt;...)</span></code></p></td>
<td><p>The matched string is accessible by the symbolic group name <em>name</em>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">(?P=name)</span></code></p></td>
<td><p>Matches the string defined in <code class="docutils literal notranslate"><span class="pre">(?&lt;name&gt;...)</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">(?#...)</span></code></p></td>
<td><p>A comment, contents are ignored</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">(?!...)</span></code></p></td>
<td><p>Opposite of <code class="docutils literal notranslate"><span class="pre">(...)</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">(?&lt;=...)</span></code></p></td>
<td><p>A positive look behind assertion, for example applying the following RE to an amino acid sequence <code class="docutils literal notranslate"><span class="pre">(?&lt;=(?HKRED)\[A-Z\])</span></code> yields residues with a preceding charged residue</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">(?&lt;!...)</span></code></p></td>
<td><p>Opposite of <code class="docutils literal notranslate"><span class="pre">(?&lt;=...)</span></code> (anoter pattern?)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">(?(id/name)yes-pattern</span></code>|<code class="docutils literal notranslate"><span class="pre">no-pattern)</span></code></p></td>
<td><p>Matching with yes-pattern if group given with id or name exists, with no-pattern if it doesn’t. The latter is optional.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="A-shortcut-to-avoid-compiling">
<h2>A shortcut to avoid compiling<a class="headerlink" href="#A-shortcut-to-avoid-compiling" title="Permalink to this headline">¶</a></h2>
<p>If you are not going to use your compiled regex over and over again (you often will), you may want to use some of the functions in the <code class="docutils literal notranslate"><span class="pre">re</span></code> module. For example, if we wanted to find all occurances of a pattern in a string, we have learned to do this:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>regex = re.compile(pattern, flags=0)
regex.findall(string)
</pre></div>
</div>
<p>We could equivalently do this:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>re.findall(pattern, string, flags=0)
</pre></div>
</div>
<p>They give exactly the same results.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Set up pattern and compile it</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="s1">&#39;.*hitch *hiker.*&#39;</span>
<span class="n">regex</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">flags</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span>

<span class="c1"># Precompiled one</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;regex.findall(hh_string):&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">regex</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">hh_string</span><span class="p">))</span>

<span class="c1"># Non-precompiled performance</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">re.findall(pattern, hh_string, flags=re.IGNORECASE):&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">hh_string</span><span class="p">,</span> <span class="n">flags</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
regex.findall(hh_string):
[&#34;The Hitch Hiker&#39;s Guide to the Galaxy has a few things to&#34;, &#39;an interstellar hitchhiker can have.  Partly it has great&#39;, &#39;a strag (strag: non-hitch hiker) discovers that a hitch&#39;, &#39;Douglas Adams:  &#34;The Hitchhiker\&#39;s Guide to the Galaxy&#34; &#39;]

re.findall(pattern, hh_string, flags=re.IGNORECASE):
[&#34;The Hitch Hiker&#39;s Guide to the Galaxy has a few things to&#34;, &#39;an interstellar hitchhiker can have.  Partly it has great&#39;, &#39;a strag (strag: non-hitch hiker) discovers that a hitch&#39;, &#39;Douglas Adams:  &#34;The Hitchhiker\&#39;s Guide to the Galaxy&#34; &#39;]
</pre></div></div>
</div>
</div>
<div class="section" id="Example:-using-REs-with-sequence-data">
<h2>Example: using REs with sequence data<a class="headerlink" href="#Example:-using-REs-with-sequence-data" title="Permalink to this headline">¶</a></h2>
<p>As an example use of regular expressions, we will parse a <a class="reference external" href="http://www.ncbi.nlm.nih.gov/genbank/">GenBank</a> entry. The file <code class="docutils literal notranslate"><span class="pre">`genbank_seq.txt</span></code> &lt;../data/regex/genbank_seq.txt&gt;`__ contains the sequence portion of a GenBank entry.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">!</span>cat data/genbank_seq.txt
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
        1 mkkillsvlt afvavvlaac ggnsdsktln sldkikqngv vrigvfgdkp pfgyvdekgn
       61 nqgydialak riakelfgde nkvqfvlvea anrveflksn kvdiilanft qtpqraeqvd
      121 fcspymkval gvavpkdsni tsvedlkdkt lllnkgttad ayftqnypni ktlkydqnte
      181 tfaalmdkrg dalshdntll fawvkdhpdf kmgikelgnk dviapavkkg dkelkefidn
      241 liiklgqeqf fhkaydetlk ahfgddvkad dvvieggki
</pre></div></div>
</div>
<p>We have a sequence of amino acids, but it is broken down into groups of 10 residues and the beginning of each line is annotated. Note that the last group only has nine residues. We would like to get a string that contains only the sequence information. In this case, we just want the strings that match letters.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Read in the string from the file</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;data/genbank_seq.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">myfile</span><span class="p">:</span>
    <span class="n">gb_input</span> <span class="o">=</span> <span class="n">myfile</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># Compile our regex search</span>
<span class="n">aa</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s1">&#39;([a-z]+)&#39;</span><span class="p">)</span>

<span class="c1"># Get a list of all the segments</span>
<span class="n">list_of_seq_segments</span> <span class="o">=</span> <span class="n">aa</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">gb_input</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">list_of_seq_segments</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;mkkillsvlt&#39;, &#39;afvavvlaac&#39;, &#39;ggnsdsktln&#39;, &#39;sldkikqngv&#39;, &#39;vrigvfgdkp&#39;, &#39;pfgyvdekgn&#39;, &#39;nqgydialak&#39;, &#39;riakelfgde&#39;, &#39;nkvqfvlvea&#39;, &#39;anrveflksn&#39;, &#39;kvdiilanft&#39;, &#39;qtpqraeqvd&#39;, &#39;fcspymkval&#39;, &#39;gvavpkdsni&#39;, &#39;tsvedlkdkt&#39;, &#39;lllnkgttad&#39;, &#39;ayftqnypni&#39;, &#39;ktlkydqnte&#39;, &#39;tfaalmdkrg&#39;, &#39;dalshdntll&#39;, &#39;fawvkdhpdf&#39;, &#39;kmgikelgnk&#39;, &#39;dviapavkkg&#39;, &#39;dkelkefidn&#39;, &#39;liiklgqeqf&#39;, &#39;fhkaydetlk&#39;, &#39;ahfgddvkad&#39;, &#39;dvvieggki&#39;]
</pre></div></div>
</div>
<p>We can now join all of the items in this list into a single string to get the full amino acid sequence.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># combine the strings in the list to a single string</span>
<span class="n">seq</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">list_of_seq_segments</span><span class="p">)</span>
<span class="n">seq</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;mkkillsvltafvavvlaacggnsdsktlnsldkikqngvvrigvfgdkppfgyvdekgnnqgydialakriakelfgdenkvqfvlveaanrveflksnkvdiilanftqtpqraeqvdfcspymkvalgvavpkdsnitsvedlkdktlllnkgttadayftqnypniktlkydqntetfaalmdkrgdalshdntllfawvkdhpdfkmgikelgnkdviapavkkgdkelkefidnliiklgqeqffhkaydetlkahfgddvkaddvvieggki&#39;
</pre></div></div>
</div>
<p>Another strategy would be to split string at the whitespaces.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Split string at whitespaces</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;\s+&#39;</span><span class="p">,</span> <span class="n">gb_input</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;&#39;, &#39;1&#39;, &#39;mkkillsvlt&#39;, &#39;afvavvlaac&#39;, &#39;ggnsdsktln&#39;, &#39;sldkikqngv&#39;, &#39;vrigvfgdkp&#39;, &#39;pfgyvdekgn&#39;, &#39;61&#39;, &#39;nqgydialak&#39;, &#39;riakelfgde&#39;, &#39;nkvqfvlvea&#39;, &#39;anrveflksn&#39;, &#39;kvdiilanft&#39;, &#39;qtpqraeqvd&#39;, &#39;121&#39;, &#39;fcspymkval&#39;, &#39;gvavpkdsni&#39;, &#39;tsvedlkdkt&#39;, &#39;lllnkgttad&#39;, &#39;ayftqnypni&#39;, &#39;ktlkydqnte&#39;, &#39;181&#39;, &#39;tfaalmdkrg&#39;, &#39;dalshdntll&#39;, &#39;fawvkdhpdf&#39;, &#39;kmgikelgnk&#39;, &#39;dviapavkkg&#39;, &#39;dkelkefidn&#39;, &#39;241&#39;, &#39;liiklgqeqf&#39;, &#39;fhkaydetlk&#39;, &#39;ahfgddvkad&#39;, &#39;dvvieggki&#39;, &#39;&#39;]
</pre></div></div>
</div>
<p>Admittedly, this is not the most efficient way but it illustrates the power of the <code class="docutils literal notranslate"><span class="pre">re.split()</span></code>. Splitting at whitespaces is commonly done when parsing other types of text files. By combining the relevant list elements we get to the sequence. We can detect segments of the string that are sequence element if they are strings with only letters. We use the <code class="docutils literal notranslate"><span class="pre">isalpha</span></code> method of strings to do this.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">s</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">temp</span> <span class="k">if</span> <span class="n">s</span><span class="o">.</span><span class="n">isalpha</span><span class="p">()])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;mkkillsvltafvavvlaacggnsdsktlnsldkikqngvvrigvfgdkppfgyvdekgnnqgydialakriakelfgdenkvqfvlveaanrveflksnkvdiilanftqtpqraeqvdfcspymkvalgvavpkdsnitsvedlkdktlllnkgttadayftqnypniktlkydqntetfaalmdkrgdalshdntllfawvkdhpdfkmgikelgnkdviapavkkgdkelkefidnliiklgqeqffhkaydetlkahfgddvkaddvvieggki&#39;
</pre></div></div>
</div>
<div class="section" id="Using-match()-and-search()">
<h3>Using match() and search()<a class="headerlink" href="#Using-match()-and-search()" title="Permalink to this headline">¶</a></h3>
<p>Let’s have a look at the outputs of <code class="docutils literal notranslate"><span class="pre">aa.match()</span></code> and <code class="docutils literal notranslate"><span class="pre">aa.search()</span></code>. We’ll start with <code class="docutils literal notranslate"><span class="pre">aa.match()</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">match_out</span> <span class="o">=</span> <span class="n">aa</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">gb_input</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">match_out</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
None
</pre></div></div>
</div>
<p>Since the RE doesn’t match the beginning of the string the result is None. Let’s instead just try to match anything using the <code class="docutils literal notranslate"><span class="pre">.+</span></code> pattern.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># The following RE will yield the first line.</span>
<span class="c1"># Adding the flag re.DOTALL would return the entire string</span>
<span class="n">aa_gaps</span><span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s1">&#39;.+&#39;</span><span class="p">)</span>
<span class="n">match_out</span> <span class="o">=</span> <span class="n">aa_gaps</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">gb_input</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">match_out</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;re.Match object; span=(0, 75), match=&#39;        1 mkkillsvlt afvavvlaac ggnsdsktln sldkik&gt;
</pre></div></div>
</div>
<p>This is a <code class="docutils literal notranslate"><span class="pre">SRE_Match</span></code> object. How do we use it? This object has several methods, and we can see what they do by example.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># access the match</span>
<span class="n">match_out</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;        1 mkkillsvlt afvavvlaac ggnsdsktln sldkikqngv vrigvfgdkp pfgyvdekgn&#39;
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Access the location of the substring</span>
<span class="n">match_out</span><span class="o">.</span><span class="n">span</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(0, 75)
</pre></div></div>
</div>
<p>Use of <code class="docutils literal notranslate"><span class="pre">aa.search()</span></code> is similar. Remember, <code class="docutils literal notranslate"><span class="pre">aa.search()</span></code> does not just look at the beginning of the string, but scans the entire string for a match.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Search for the first block of characters</span>
<span class="n">search_out</span> <span class="o">=</span> <span class="n">aa</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">gb_input</span><span class="p">)</span>

<span class="c1"># Show result</span>
<span class="nb">print</span><span class="p">(</span><span class="n">search_out</span><span class="o">.</span><span class="n">group</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">search_out</span><span class="o">.</span><span class="n">span</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
mkkillsvlt
(10, 20)
</pre></div></div>
</div>
</div>
<div class="section" id="Find-and-replace-with-regexes">
<h3>Find and replace with regexes<a class="headerlink" href="#Find-and-replace-with-regexes" title="Permalink to this headline">¶</a></h3>
<p>Now, we’ll use a powerful tool. We’ll find and replace using a regex. For this example, we will replace all positively charged residues (arginine (<code class="docutils literal notranslate"><span class="pre">a</span></code>), lysine (<code class="docutils literal notranslate"><span class="pre">l</span></code>), and histodine (<code class="docutils literal notranslate"><span class="pre">h</span></code>)), and replace them with a <code class="docutils literal notranslate"><span class="pre">+</span></code> sign. To do this, we use the <code class="docutils literal notranslate"><span class="pre">sub()</span></code> method of a compiled regex.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Compile our search string</span>
<span class="n">positive_residues</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s1">&#39;[rkh]&#39;</span><span class="p">)</span>

<span class="c1"># Find and replace</span>
<span class="n">positive_residues</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="n">seq</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;m++illsvltafvavvlaacggnsds+tlnsld+i+qngvv+igvfgd+ppfgyvde+gnnqgydiala++ia+elfgden+vqfvlveaan+vefl+sn+vdiilanftqtpq+aeqvdfcspym+valgvavp+dsnitsvedl+d+tllln+gttadayftqnypni+tl+ydqntetfaalmd++gdals+dntllfawv+d+pdf+mgi+elgn+dviapav++gd+el+efidnlii+lgqeqff++aydetl+a+fgddv+addvviegg+i&#39;
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># In addition to substituting subn also counts the number of substitution.</span>
<span class="c1"># It returns a tuple consisting of the modified string and the number of</span>
<span class="c1"># substitutions</span>
<span class="n">pos_seq</span><span class="p">,</span> <span class="n">n_pos</span> <span class="o">=</span> <span class="n">positive_residues</span><span class="o">.</span><span class="n">subn</span><span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="n">seq</span><span class="p">)</span>

<span class="c1"># Print the result</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="s2">&quot;The following sequence contains&quot;</span><span class="p">,</span>
    <span class="n">n_pos</span><span class="p">,</span>
    <span class="s2">&quot;positively charged residues:</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pos_seq</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The following sequence contains 42 positively charged residues:

m++illsvltafvavvlaacggnsds+tlnsld+i+qngvv+igvfgd+ppfgyvde+gnnqgydiala++ia+elfgden+vqfvlveaan+vefl+sn+vdiilanftqtpq+aeqvdfcspym+valgvavp+dsnitsvedl+d+tllln+gttadayftqnypni+tl+ydqntetfaalmd++gdals+dntllfawv+d+pdf+mgi+elgn+dviapav++gd+el+efidnlii+lgqeqff++aydetl+a+fgddv+addvviegg+i
</pre></div></div>
</div>
<p>The previous examples illustrate that RE are a powerful tool to parse data. Moreover they can be of great use in analyzing sequences.</p>
</div>
</div>
<div class="section" id="Example-2:-Using-REs-to-parse-sequence-FASTA-files">
<h2>Example 2: Using REs to parse sequence FASTA files<a class="headerlink" href="#Example-2:-Using-REs-to-parse-sequence-FASTA-files" title="Permalink to this headline">¶</a></h2>
<p>The file <code class="docutils literal notranslate"><span class="pre">`aligned.fasta</span></code> &lt;data/aligned_fasta&gt;`__ contains seven aligned sequences in FASTA format.</p>
<p>Let’s have a look:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">!</span>cat data/aligned.fasta
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&gt;gi|488942278|ref|WP_002853353.1|:1-279 glutamine ABC transporter substrate-binding protein [Campylobacter jejuni]
MKKILLSVLTAFVAVVLAACGG-------NSDSKTLNSLDKIKQNGVVRIGVFGDKPPFG
YVDEKGNNQGYDIALAKRIAKELFGDENKVQFVLVEAANRVEFLKSNKVDIILANFTQTP
QRAEQVDFCSPYMKVALGVAVPKDSNITSVEDLKDKTLLLNKGTTADAYFTQNYPNIKTL
KYDQNTETFAALMDKRGDALSHDNTLLFAWVKDHPDFKMGIKELGNKDVIAPAVKKGDKE
LKEFIDNLIIKLGQEQFFHKAYDETLKAHFGDDVKADDVVIEGGKI
&gt;gi|533111561|ref|WP_020974739.1|:1-279 amino-acid transporter periplasmic solute-binding protein [Campylobacter coli]
MKKMLLSIFTTFVAVFLAACGG-------NSDSNALNSLEKIKQEGVVRIGVFGDKPPFG
YVDEKGANQGYDIVLAKRIAKELLGDENKVQFVLVEAANRVEFLKSNKVDIILANFTQTP
ERAEQVDFCLPYMKVALGVAVPQDSNISSVEDLKDKTLLLNKGTTADAYFTKEYPDIKTL
KYDQNTETFAALMDQRGDALSHDNTLLFAWVKDHPEFKMAIKELGNKDVIAPAVKKGNKE
LKEFIDNLIVKLGEEQFFHKAYEETLKTHFGDDVKADDVVIEGGKI
&gt;gi|736962278|ref|WP_034958763.1|:1-277 ABC transporter substrate-binding protein [Campylobacter upsaliensis]
MKKILLSIFTAFVAVFLAAC---------DSSESGVNSIERIKNAGVVKIGVFGDKPPFG
YVDEKGANQGYDIIFAKRIAKELLGDENKVEFVLVEAANRVEFLKSNKVDIILANFTQTP
ERAEQVDFALPYMKVALGVVVPEDSEIKSVEDLKDKTLILNKGTTADAYFTKNYADIKTL
KFDQNTETFAALMDKRGDALAHDNTLLFAWVKERPDYKVVIKELGNQDVIAPAVKKGDKE
LKEFIDNLIISLAAEQFFHKAYDESLKAHFGADIKADDVVIEGGKL
&gt;gi|746591941|ref|WP_039618158.1|:1-275 ABC transporter substrate-binding protein [Campylobacter lari]
MKKIFL--LSFLMALFFSAC---------SNSSSNENSIEKIKQQGVIRIGVFGDKPPFG
YLDAQGKNQGYDVYFAKRIAKELLGDESKVQFVLVEAANRVEFLESNKVDLILANFTKTP
EREAVVDFAFPYMKVALGVVAPKGSDIKTIDDLKSKTLILNKGTTADAYFTKNMPEIKTI
KFDQNTETFAALIGKRGDALSHDNALLFAWAKENPNFEVVIKELGNHDVIAPAVKKGDEA
MLKFINDLIVKLQNEQFFHKAYDETLKPFFSDDIKADDVVIEGGKI
&gt;gi|757802533|ref|WP_043019716.1|:1-275 ABC transporter substrate-binding protein [Campylobacter subantarcticus]
MKKIFL--LSFLMTLFFSAC---------SNSSSNENSIEKIKQQGVIRIGVFGDKPPFG
YLDAQGKNQGYDVYFAKRITKELLGDESKVQFVLVEAANRVEFLESNKVDLILANFTKTP
EREAVVDFALPYMKVALGVVAPKNSDIKTVDDLKNKTLIINKGTTADAYFTKNMPEIKTI
KFDQNTETFAALIGKRGDALSHDNALLFAWAKENPNFEVVIKELGNHDVIAPAVKKGDEA
MLKFINDLILKLQNEQFFHKAYDETLKPFFSDDIKADDVVIEGGKI
&gt;gi|763018407|ref|WP_043902698.1|:13-275 glutamine ABC transporter substrate-binding protein [Helicobacter cetorum]
--------LLVLVTLIFNAC----------SDKPKLDALDSIKQKGVVRIGVFSDKPPFG
FVDSKGAYQGFDVYIAKRMAKDLLGDENKIEFVPVEASARVEFLKANKVDIIMANFTQTN
ERKEVVDFAKPYMKVALGVVS-KNGMIKDIEELKDKTLIVNKGTTADFYFTKNYPNIKLL
KFEQNTETFLALLNNRGEALAHDNTLLFAWAKQHPEFKVAITSLGDKDVIAPAIKKGNPK
LLEWLNNEVQQLINEGFLKEAYKETLEPVYGSDIKSEEIVFE----
&gt;gi|654467138|ref|WP_027937534.1|:5-289 hypothetical protein [Anaeroarcus burkinensis]
-KGIVLIFSVLFIVGMLAGCGSSAKQGDQKDAAAAKSSIEEIKQRGVLRVGVFSDKPPFG
FVDKSGKNQGFDVVIAKRFAKDLLGDETKIEFVLVEAANRVEVLQSNKVDITMANFTVTD
ERKQKVDFANPYMKVYLGVVSPSGTPITSVEQLKGKKLIVNKGTTAETYFTKNHPDIELL
KYDQNTEAFEALKDNRGAALAHDNTLLFAWAKENTGYQVGIPTLGGQDTIAPAVKKGNKE
LLDWVNTELETLGKEKFIHKAYDETLKPAYGDSINPEDIVVEGGKL
</pre></div></div>
</div>
<p>Each entry starts with a <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> sign that describes the source of the sequence, and then the aligned sequence of amino acids follow. As we see, the first sequence is described by</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;gi|488942278|ref|WP_002853353.1|:1-279 glutamine ABC transporter substrate-binding protein [Campylobacter jejuni]
</pre></div>
</div>
<p>It is often convenient to just have a short species identifier instead of the full description. So, we would replace the above description with</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;C.jejuni
</pre></div>
</div>
<p>To do this, we need to do the following steps. 1. Read the FASTA file into a string 2. Split the string into entries 3. For each entry, find the organism name. 4. Construct an abbreviation for the organism name. 5. Replace the organism name with the abbreviation.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># read the aligned fasta file</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;data/aligned.fasta&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">myfile</span><span class="p">:</span>
    <span class="n">aln</span> <span class="o">=</span> <span class="n">myfile</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># add an extra delimiter to enable splitting</span>
<span class="n">aln</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39;&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;delimiter&gt;&#39;</span><span class="p">,</span> <span class="n">aln</span><span class="p">)</span>

<span class="c1"># Use re.split to create a list of fasta enries.</span>
<span class="n">aln</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;delimiter&#39;</span><span class="p">,</span> <span class="n">aln</span><span class="p">)</span>

<span class="c1"># remove the first empty string from the list, since it got split</span>
<span class="n">aln</span> <span class="o">=</span> <span class="n">aln</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>

<span class="c1"># RE to find the organism name: look for text in brackets and make</span>
<span class="c1"># convenient groups for parsing genus and species</span>
<span class="n">get_organism</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s1">&#39;\[(\w+) (\w+)\]&#39;</span><span class="p">)</span>

<span class="c1"># RE that defines the line to be edited</span>
<span class="n">def_line</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s1">&#39;(&gt;.*)&#39;</span><span class="p">)</span>

<span class="c1"># A list that we&#39;ll concatenate into the file</span>
<span class="n">edited_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">fasta</span> <span class="ow">in</span> <span class="n">aln</span><span class="p">:</span>
    <span class="c1"># Get the organism name</span>
    <span class="n">org</span> <span class="o">=</span> <span class="n">get_organism</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">fasta</span><span class="p">)</span>

    <span class="c1"># Abbreviate the organism&#39;s name in the desired form</span>
    <span class="n">abbr</span> <span class="o">=</span> <span class="s1">&#39;&gt;&#39;</span> <span class="o">+</span> <span class="n">org</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;. &#39;</span> <span class="o">+</span> <span class="n">org</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

    <span class="c1"># Replace the original sequence description with abbreviated organism name.</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">def_line</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">abbr</span><span class="p">,</span> <span class="n">fasta</span><span class="p">)</span>

    <span class="c1"># Add out new string to the list</span>
    <span class="n">edited_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>

<span class="c1"># Write out the result</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;edited_fasta.fasta&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">outfile</span><span class="p">:</span>
    <span class="n">outfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">edited_list</span><span class="p">))</span>
</pre></div>
</div>
</div>
<p>Let’s see how we did!</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">!</span>cat edited_fasta.fasta
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&gt;C. jejuni
MKKILLSVLTAFVAVVLAACGG-------NSDSKTLNSLDKIKQNGVVRIGVFGDKPPFG
YVDEKGNNQGYDIALAKRIAKELFGDENKVQFVLVEAANRVEFLKSNKVDIILANFTQTP
QRAEQVDFCSPYMKVALGVAVPKDSNITSVEDLKDKTLLLNKGTTADAYFTQNYPNIKTL
KYDQNTETFAALMDKRGDALSHDNTLLFAWVKDHPDFKMGIKELGNKDVIAPAVKKGDKE
LKEFIDNLIIKLGQEQFFHKAYDETLKAHFGDDVKADDVVIEGGKI
&gt;C. coli
MKKMLLSIFTTFVAVFLAACGG-------NSDSNALNSLEKIKQEGVVRIGVFGDKPPFG
YVDEKGANQGYDIVLAKRIAKELLGDENKVQFVLVEAANRVEFLKSNKVDIILANFTQTP
ERAEQVDFCLPYMKVALGVAVPQDSNISSVEDLKDKTLLLNKGTTADAYFTKEYPDIKTL
KYDQNTETFAALMDQRGDALSHDNTLLFAWVKDHPEFKMAIKELGNKDVIAPAVKKGNKE
LKEFIDNLIVKLGEEQFFHKAYEETLKTHFGDDVKADDVVIEGGKI
&gt;C. upsaliensis
MKKILLSIFTAFVAVFLAAC---------DSSESGVNSIERIKNAGVVKIGVFGDKPPFG
YVDEKGANQGYDIIFAKRIAKELLGDENKVEFVLVEAANRVEFLKSNKVDIILANFTQTP
ERAEQVDFALPYMKVALGVVVPEDSEIKSVEDLKDKTLILNKGTTADAYFTKNYADIKTL
KFDQNTETFAALMDKRGDALAHDNTLLFAWVKERPDYKVVIKELGNQDVIAPAVKKGDKE
LKEFIDNLIISLAAEQFFHKAYDESLKAHFGADIKADDVVIEGGKL
&gt;C. lari
MKKIFL--LSFLMALFFSAC---------SNSSSNENSIEKIKQQGVIRIGVFGDKPPFG
YLDAQGKNQGYDVYFAKRIAKELLGDESKVQFVLVEAANRVEFLESNKVDLILANFTKTP
EREAVVDFAFPYMKVALGVVAPKGSDIKTIDDLKSKTLILNKGTTADAYFTKNMPEIKTI
KFDQNTETFAALIGKRGDALSHDNALLFAWAKENPNFEVVIKELGNHDVIAPAVKKGDEA
MLKFINDLIVKLQNEQFFHKAYDETLKPFFSDDIKADDVVIEGGKI
&gt;C. subantarcticus
MKKIFL--LSFLMTLFFSAC---------SNSSSNENSIEKIKQQGVIRIGVFGDKPPFG
YLDAQGKNQGYDVYFAKRITKELLGDESKVQFVLVEAANRVEFLESNKVDLILANFTKTP
EREAVVDFALPYMKVALGVVAPKNSDIKTVDDLKNKTLIINKGTTADAYFTKNMPEIKTI
KFDQNTETFAALIGKRGDALSHDNALLFAWAKENPNFEVVIKELGNHDVIAPAVKKGDEA
MLKFINDLILKLQNEQFFHKAYDETLKPFFSDDIKADDVVIEGGKI
&gt;H. cetorum
--------LLVLVTLIFNAC----------SDKPKLDALDSIKQKGVVRIGVFSDKPPFG
FVDSKGAYQGFDVYIAKRMAKDLLGDENKIEFVPVEASARVEFLKANKVDIIMANFTQTN
ERKEVVDFAKPYMKVALGVVS-KNGMIKDIEELKDKTLIVNKGTTADFYFTKNYPNIKLL
KFEQNTETFLALLNNRGEALAHDNTLLFAWAKQHPEFKVAITSLGDKDVIAPAIKKGNPK
LLEWLNNEVQQLINEGFLKEAYKETLEPVYGSDIKSEEIVFE----
&gt;A. burkinensis
-KGIVLIFSVLFIVGMLAGCGSSAKQGDQKDAAAAKSSIEEIKQRGVLRVGVFSDKPPFG
FVDKSGKNQGFDVVIAKRFAKDLLGDETKIEFVLVEAANRVEVLQSNKVDITMANFTVTD
ERKQKVDFANPYMKVYLGVVSPSGTPITSVEQLKGKKLIVNKGTTAETYFTKNHPDIELL
KYDQNTEAFEALKDNRGAALAHDNTLLFAWAKENTGYQVGIPTLGGQDTIAPAVKKGNKE
LLDWVNTELETLGKEKFIHKAYDETLKPAYGDSINPEDIVVEGGKL
</pre></div></div>
</div>
<p>Success!</p>
</div>
<div class="section" id="Just-scratching-the-surface">
<h2>Just scratching the surface<a class="headerlink" href="#Just-scratching-the-surface" title="Permalink to this headline">¶</a></h2>
<p>Even though we’ve just scratched the surface, I hope this tutorial has shown how powerful you can be if you have a command of regular expressions. The learning curve for these things is steep, but once you’ve used them for a while, they become second nature and parsing text is not a daunting task!</p>
</div>
<div class="section" id="Computing-environment">
<h2>Computing environment<a class="headerlink" href="#Computing-environment" title="Permalink to this headline">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%</span><span class="k">load_ext</span> watermark
<span class="o">%</span><span class="k">watermark</span> -v -p jupyterlab
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Python implementation: CPython
Python version       : 3.8.10
IPython version      : 7.22.0

jupyterlab: 3.0.14

</pre></div></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="l36_intro_to_oop.html" class="btn btn-neutral float-right" title="Lesson 36: Introduction to object-oriented programming" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="l34_more_command_line.html" class="btn btn-neutral float-left" title="Lesson 34: More about the command line" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
      <span class="lastupdated">
        Last updated on Jun 25, 2021.
      </span>

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-65442910-1', 'auto');
    
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>